#!/bin/bash

case $1 in
toggle)
    amixer -c 1 set Master,0 toggle
    STATE=$(amixer get Master,0 | sed -n '/^\s*Mono:/ s/.*\[\(off\|on\)\].*/\1/p')
    if [[ $STATE == "off" ]]; then
        amixer -c 1 set Headphone,0 mute
        amixer -c 1 set Speaker,0 mute
    else
        amixer -c 1 set Headphone,0 unmute
        amixer -c 1 set Speaker,0 unmute
    fi
    ;;
up)
    amixer -c 1 set Master,0 5%+
    amixer -c 1 set Master,0 unmute
    ;;
down)
    amixer -c 1 set Master,0 5%-
    ;;
*)
    echo "Usage: $0 [toggle|up|down]"
    exit 1
    ;;
esac
